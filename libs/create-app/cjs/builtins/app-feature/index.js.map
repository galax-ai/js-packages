{"version":3,"sources":["../../../src/builtins/app-feature/index.js"],"sourcesContent":["const path = require(\"path\");\nconst { fs } = require(\"@genx/sys\");\nconst localConfig = require(\"./config\");\nconst { steps, packageConfig } = require(\"../..\");\nconst getTemplatePath = require(\"../../utils/getTemplatePath\");\n\nmodule.exports = async (app, options) => {\n    options = {\n        ...localConfig,\n        ...options,\n    };\n\n    const targetPath = path.join(options.workingPath, options.appDir);\n    fs.ensureDirSync(targetPath);\n\n    steps.ensureSafeToCreateProject_(app, targetPath, [\"package.json\"]);\n\n    const templatePath = getTemplatePath(options.appMode);\n\n    await steps.copyFilesFromTemplate_(app, templatePath, targetPath, options);\n\n    await steps.updatePackageJson_(app, targetPath, (config) => packageConfig.setPublishMode(config, options));\n\n    await steps.npmInstall_(app, targetPath, options);\n};\n"],"names":["path","require","fs","localConfig","steps","packageConfig","getTemplatePath","module","exports","app","options","targetPath","join","workingPath","appDir","ensureDirSync","ensureSafeToCreateProject_","templatePath","appMode","copyFilesFromTemplate_","updatePackageJson_","config","setPublishMode","npmInstall_"],"mappings":";AAAA,MAAMA,OAAOC,QAAQ;AACrB,MAAM,EAAEC,GAAE,EAAE,GAAGD,QAAQ;AACvB,MAAME,cAAcF,QAAQ;AAC5B,MAAM,EAAEG,MAAK,EAAEC,cAAa,EAAE,GAAGJ,QAAQ;AACzC,MAAMK,kBAAkBL,QAAQ;AAEhCM,OAAOC,OAAO,GAAG,OAAOC,KAAKC,UAAY;IACrCA,UAAU;QACN,GAAGP,WAAW;QACd,GAAGO,OAAO;IACd;IAEA,MAAMC,aAAaX,KAAKY,IAAI,CAACF,QAAQG,WAAW,EAAEH,QAAQI,MAAM;IAChEZ,GAAGa,aAAa,CAACJ;IAEjBP,MAAMY,0BAA0B,CAACP,KAAKE,YAAY;QAAC;KAAe;IAElE,MAAMM,eAAeX,gBAAgBI,QAAQQ,OAAO;IAEpD,MAAMd,MAAMe,sBAAsB,CAACV,KAAKQ,cAAcN,YAAYD;IAElE,MAAMN,MAAMgB,kBAAkB,CAACX,KAAKE,YAAY,CAACU,SAAWhB,cAAciB,cAAc,CAACD,QAAQX;IAEjG,MAAMN,MAAMmB,WAAW,CAACd,KAAKE,YAAYD;AAC7C"}