{"version":3,"sources":["../../src/steps/common_.js"],"sourcesContent":["const updateFile_ = require(\"./updateFile_\");\nconst { REGISTRY_GENX, REGISTRY_NPMJS } = require(\"../constants\");\n\nmodule.exports = async (app, targetPath, options) => {\n    await updateFile_(app, targetPath, \".npmrc\", (vars) => {\n        const { registry, ...otherVars } = vars;\n\n        if (options.registry !== \"npmjs\") {\n            let _registry;\n\n            if (options.registry === \"genx\") {\n                _registry = REGISTRY_GENX;\n            } else {\n                _registry = options.registry;\n            }\n\n            return {\n                ...otherVars,\n                registry: _registry,\n            };\n        } else if (registry) {\n            return {\n                ...otherVars,\n                registry: REGISTRY_NPMJS,\n            };\n        }\n\n        return otherVars;\n    });\n};\n"],"names":["updateFile_","require","REGISTRY_GENX","REGISTRY_NPMJS","module","exports","app","targetPath","options","vars","registry","otherVars","_registry"],"mappings":";AAAA,MAAMA,cAAcC,QAAQ;AAC5B,MAAM,EAAEC,cAAa,EAAEC,eAAc,EAAE,GAAGF,QAAQ;AAElDG,OAAOC,OAAO,GAAG,OAAOC,KAAKC,YAAYC,UAAY;IACjD,MAAMR,YAAYM,KAAKC,YAAY,UAAU,CAACE,OAAS;QACnD,MAAM,EAAEC,SAAQ,EAAE,GAAGC,WAAW,GAAGF;QAEnC,IAAID,QAAQE,QAAQ,KAAK,SAAS;YAC9B,IAAIE;YAEJ,IAAIJ,QAAQE,QAAQ,KAAK,QAAQ;gBAC7BE,YAAYV;YAChB,OAAO;gBACHU,YAAYJ,QAAQE,QAAQ;YAChC,CAAC;YAED,OAAO;gBACH,GAAGC,SAAS;gBACZD,UAAUE;YACd;QACJ,OAAO,IAAIF,UAAU;YACjB,OAAO;gBACH,GAAGC,SAAS;gBACZD,UAAUP;YACd;QACJ,CAAC;QAED,OAAOQ;IACX;AACJ"}