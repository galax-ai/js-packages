{"version":3,"sources":["../../src/steps/updatePackageJson_.js"],"sourcesContent":["import path from \"node:path\";\nimport { fs } from \"@galaxar/sys\";\n\nmodule.exports = async (app, rootPath, initMeta, options, updaters) => {\n    const packageConfigFileName = 'package.json';\n    const packageConfigFile = path.join(rootPath, packageConfigFileName);\n    const packageConfig = await fs.readJson(packageConfigFile);\n    \n    updaters.forEach(update => update(packageConfig, initMeta, options));\n\n    await fs.writeJson(packageConfigFile, packageConfig, { spaces: 4 });\n    app.log('info', `Updated ${packageConfigFileName}`);\n}"],"names":["module","exports","app","rootPath","initMeta","options","updaters","packageConfigFileName","packageConfigFile","path","join","packageConfig","fs","readJson","forEach","update","writeJson","spaces","log"],"mappings":";;;;iEAAiB;qBACE;;;;;;AAEnBA,OAAOC,OAAO,GAAG,OAAOC,KAAKC,UAAUC,UAAUC,SAASC,WAAa;IACnE,MAAMC,wBAAwB;IAC9B,MAAMC,oBAAoBC,iBAAI,CAACC,IAAI,CAACP,UAAUI;IAC9C,MAAMI,gBAAgB,MAAMC,OAAE,CAACC,QAAQ,CAACL;IAExCF,SAASQ,OAAO,CAACC,CAAAA,SAAUA,OAAOJ,eAAeP,UAAUC;IAE3D,MAAMO,OAAE,CAACI,SAAS,CAACR,mBAAmBG,eAAe;QAAEM,QAAQ;IAAE;IACjEf,IAAIgB,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAEX,sBAAsB,CAAC;AACtD"}