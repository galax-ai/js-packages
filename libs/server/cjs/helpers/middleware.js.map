{"version":3,"sources":["../../lib/helpers/middleware.js"],"sourcesContent":["import { UnexpectedState } from \"@galaxar/types\";\n\n/**\n * Decorator for adding middlewares to a function.\n * @param  {...any} middlewares \n * @returns \n */\nfunction middleware(...middlewares) {\n    return function (target, name, descriptor) {\n        let targetFunction,\n            isHof = false;\n\n        if (arguments.length === 1 && typeof target === \"function\") {\n            targetFunction = target;\n            isHof = true;\n        } else if (descriptor && descriptor.value) {\n            targetFunction = descriptor.value;\n            descriptor.enumerable = true;\n        } else {\n            throw new UnexpectedState(\"Invalid usage of middleware decorator.\");\n        }\n\n        if (middlewares.length > 0) {\n            targetFunction.__metaMiddlewares = middlewares;\n        }\n\n        return isHof ? targetFunction : descriptor;\n    };\n}\n\nexport default middleware;\n"],"names":["middleware","middlewares","target","name","descriptor","targetFunction","isHof","arguments","length","value","enumerable","UnexpectedState","__metaMiddlewares"],"mappings":"oGA8BA,iDAAA,iCA9BgC,kBAOhC,SAASA,WAAW,GAAGC,WAAW,CAAE,CAChC,OAAO,SAAUC,MAAM,CAAEC,IAAI,CAAEC,UAAU,CAAE,CACvC,IAAIC,eACAC,MAAQ,KAAK,CAEjB,GAAIC,UAAUC,MAAM,GAAK,GAAK,OAAON,SAAW,WAAY,CACxDG,eAAiBH,OACjBI,MAAQ,IAAI,AAChB,MAAO,GAAIF,YAAcA,WAAWK,KAAK,CAAE,CACvCJ,eAAiBD,WAAWK,KAAK,AACjCL,CAAAA,WAAWM,UAAU,CAAG,IAAI,AAChC,KAAO,CACH,MAAM,IAAIC,sBAAe,CAAC,yCAA0C,AACxE,CAAC,AAED,GAAIV,YAAYO,MAAM,CAAG,EAAG,CACxBH,eAAeO,iBAAiB,CAAGX,WACvC,CAAC,AAED,OAAOK,MAAQD,eAAiBD,UAAU,AAC9C,CACJ,OAEA,SAAeJ"}