{"version":3,"sources":["../../lib/helpers/middleware.js"],"sourcesContent":["import { UnexpectedState } from '@galaxar/types';\n\n/**\n * Decorator for adding middlewares to a function.\n * @param  {...any} middlewares\n * @returns\n */\nfunction middleware(...middlewares) {\n    return function (target, name, descriptor) {\n        let targetFunction,\n            isHof = false;\n\n        if (arguments.length === 1 && typeof target === 'function') {\n            targetFunction = target;\n            isHof = true;\n        } else if (descriptor && descriptor.value) {\n            targetFunction = descriptor.value;\n            descriptor.enumerable = true;\n        } else {\n            throw new UnexpectedState('Invalid usage of middleware decorator.');\n        }\n\n        if (middlewares.length > 0) {\n            targetFunction.__metaMiddlewares = middlewares;\n        }\n\n        return isHof ? targetFunction : descriptor;\n    };\n}\n\nexport default middleware;\n"],"names":["middleware","middlewares","target","name","descriptor","targetFunction","isHof","arguments","length","value","enumerable","UnexpectedState","__metaMiddlewares"],"mappings":";;;;+BA8BA;;;eAAA;;;uBA9BgC;AAEhC;;;;CAIC,GACD,SAASA,WAAW,GAAGC,WAAW,EAAE;IAChC,OAAO,SAAUC,MAAM,EAAEC,IAAI,EAAEC,UAAU,EAAE;QACvC,IAAIC,gBACAC,QAAQ,KAAK;QAEjB,IAAIC,UAAUC,MAAM,KAAK,KAAK,OAAON,WAAW,YAAY;YACxDG,iBAAiBH;YACjBI,QAAQ,IAAI;QAChB,OAAO,IAAIF,cAAcA,WAAWK,KAAK,EAAE;YACvCJ,iBAAiBD,WAAWK,KAAK;YACjCL,WAAWM,UAAU,GAAG,IAAI;QAChC,OAAO;YACH,MAAM,IAAIC,sBAAe,CAAC,0CAA0C;QACxE,CAAC;QAED,IAAIV,YAAYO,MAAM,GAAG,GAAG;YACxBH,eAAeO,iBAAiB,GAAGX;QACvC,CAAC;QAED,OAAOK,QAAQD,iBAAiBD,UAAU;IAC9C;AACJ;MAEA,WAAeJ"}