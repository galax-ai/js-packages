"use strict";Object.defineProperty(exports,"__esModule",{value:true});const _utils=require("@galaxar/utils");const _Feature=_interop_require_default(require("../Feature"));function _interop_require_default(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports={type:_Feature.default.SERVICE,load_:async function(app,services){let features=[];const instancesMap={};_utils._.each(services,(instances,serviceName1)=>{let feature=app._loadFeature(serviceName1);features.push(feature);instancesMap[serviceName1]=instances});features=app._sortFeatures(features);await (0,_utils.eachAsync_)(features,async feature=>{const instances=instancesMap[feature.name];await (0,_utils.batchAsync_)(instances,(serviceOptions,instanceName)=>feature.load_(app,serviceOptions,`${serviceName}-${instanceName}`))})}};
//# sourceMappingURL=serviceGroup.js.map