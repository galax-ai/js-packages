{"version":3,"sources":["../lib/JvsError.js"],"sourcesContent":["import _castArray from 'lodash/castArray';\nimport { messages } from './config';\n\nclass JsvError extends Error {\n    constructor(errorOrErrors, value, field) {\n        const errors = [];\n        let inner = [];\n\n        _castArray(errorOrErrors).forEach((err) => {\n            if (err.name === 'JsvError') {\n                errors.push(...err.errors);\n                inner = [...inner, ...(err.inner.length > 0 ? err.inner : [err])];\n            } else {\n                errors.push(err);\n                if (err.inner && Array.isArray(err.inner)) {\n                    inner = [...inner, ...err.inner];\n                }\n            }\n        });\n\n        super(errors.length > 1 ? messages.MULTI_ERRORS(errors.length) : errors[0]);\n\n        this.name = 'JsvError';\n        this.value = value;\n        this.path = field;\n        this.errors = errors;\n        this.inner = inner;\n    }\n}\n\nexport default JsvError;\n"],"names":["JsvError","Error","constructor","errorOrErrors","value","field","errors","inner","_castArray","forEach","err","name","push","length","Array","isArray","messages","MULTI_ERRORS","path"],"mappings":";;;;+BA8BA;;;eAAA;;;kEA9BuB;wBACE;;;;;;AAEzB,MAAMA,iBAAiBC;IACnBC,YAAYC,aAAa,EAAEC,KAAK,EAAEC,KAAK,CAAE;QACrC,MAAMC,SAAS,EAAE;QACjB,IAAIC,QAAQ,EAAE;QAEdC,IAAAA,kBAAU,EAACL,eAAeM,OAAO,CAAC,CAACC,MAAQ;YACvC,IAAIA,IAAIC,IAAI,KAAK,YAAY;gBACzBL,OAAOM,IAAI,IAAIF,IAAIJ,MAAM;gBACzBC,QAAQ;uBAAIA;uBAAWG,IAAIH,KAAK,CAACM,MAAM,GAAG,IAAIH,IAAIH,KAAK,GAAG;wBAACG;qBAAI;iBAAE;YACrE,OAAO;gBACHJ,OAAOM,IAAI,CAACF;gBACZ,IAAIA,IAAIH,KAAK,IAAIO,MAAMC,OAAO,CAACL,IAAIH,KAAK,GAAG;oBACvCA,QAAQ;2BAAIA;2BAAUG,IAAIH,KAAK;qBAAC;gBACpC,CAAC;YACL,CAAC;QACL;QAEA,KAAK,CAACD,OAAOO,MAAM,GAAG,IAAIG,gBAAQ,CAACC,YAAY,CAACX,OAAOO,MAAM,IAAIP,MAAM,CAAC,EAAE;QAE1E,IAAI,CAACK,IAAI,GAAG;QACZ,IAAI,CAACP,KAAK,GAAGA;QACb,IAAI,CAACc,IAAI,GAAGb;QACZ,IAAI,CAACC,MAAM,GAAGA;QACd,IAAI,CAACC,KAAK,GAAGA;IACjB;AACJ;MAEA,WAAeP"}