{"version":3,"sources":["../batchAsync_.js"],"sourcesContent":["import isPlainObject from './isPlainObject';\n\n/**\n * Walk through each entry of an array of an object parallelly, faster than eachAsync_\n * @alias collection.batchAsync_\n * @async\n * @param {Array|Object} obj\n * @param {asyncIterator} iterator\n * @returns {Promise.<Array|Object>}\n */\nasync function batchAsync_(obj, iterator) {\n    if (Array.isArray(obj)) {\n        const r = [];\n\n        let l = obj.length;\n        for (let i = 0; i < l; i++) {\n            r.push(iterator(obj[i], i, obj));\n        }\n\n        return Promise.all(r);\n    }\n\n    if (isPlainObject(obj)) {\n        const keys = [];\n        const values = [];\n\n        for (let k in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, k)) {\n                keys.push(k);\n                values.push(iterator(obj[k], k, obj));\n            }\n        }\n\n        const result = await Promise.all(values);\n        return keys.reduce((r, k, i) => {\n            r[k] = result[i];\n            return r;\n        }, {});\n    }\n\n    return Promise.reject('Invalid argument!');\n}\n\nexport default batchAsync_;\n"],"names":["batchAsync_","obj","iterator","Array","isArray","r","l","length","i","push","Promise","all","isPlainObject","keys","values","k","Object","prototype","hasOwnProperty","call","result","reduce","reject"],"mappings":"oGA2CA,iDAAA,kEA3C0B,wGAU1B,eAAeA,YAAYC,GAAG,CAAEC,QAAQ,CAAE,CACtC,GAAIC,MAAMC,OAAO,CAACH,KAAM,CACpB,MAAMI,EAAI,EAAE,CAEZ,IAAIC,EAAIL,IAAIM,MAAM,CAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAGE,IAAK,CACxBH,EAAEI,IAAI,CAACP,SAASD,GAAG,CAACO,EAAE,CAAEA,EAAGP,KAC/B,CAEA,OAAOS,QAAQC,GAAG,CAACN,EACvB,CAAC,AAED,GAAIO,GAAAA,sBAAa,EAACX,KAAM,CACpB,MAAMY,KAAO,EAAE,CACf,MAAMC,OAAS,EAAE,CAEjB,IAAK,IAAIC,KAAKd,IAAK,CACf,GAAIe,OAAOC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAClB,IAAKc,GAAI,CAC9CF,KAAKJ,IAAI,CAACM,GACVD,OAAOL,IAAI,CAACP,SAASD,GAAG,CAACc,EAAE,CAAEA,EAAGd,KACpC,CAAC,AACL,CAEA,MAAMmB,OAAS,MAAMV,QAAQC,GAAG,CAACG,QACjC,OAAOD,KAAKQ,MAAM,CAAC,CAAChB,EAAGU,EAAGP,IAAM,CAC5BH,CAAC,CAACU,EAAE,CAAGK,MAAM,CAACZ,EAAE,CAChB,OAAOH,CACX,EAAG,CAAC,EACR,CAAC,AAED,OAAOK,QAAQY,MAAM,CAAC,oBAC1B,OAEA,SAAetB"}